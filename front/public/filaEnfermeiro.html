<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fila de atendimento - Clínica Easy Way</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1>Clínica Easy Way</h1>
    <nav>

    </nav>
  </header>
  <main>
    <section id="filaEnfermeiro">
      <h2>Fila de atendimento - Enfermagem</h2>
      <table id="tabela-fila">
        <thead>
          <tr>
            <th>Paciente</th>
            <th>Data da Consulta</th>
            <th>Especialidade</th>
            <th>Comentários</th>
          </tr>
        </thead>
        <tbody id="corpo-tabela-fila">
          <!-- Aqui serão exibidos os pacientes na fila de atendimento -->
        </tbody>
      </table>
    </section>
  </main>
  <footer class="footer">
    <p>&copy; 2023 Clínica Easy Way. Todos os direitos reservados.</p>
  </footer>
  <script src="menu_generate_enfermeiro.js"></script>
  <script src="filaEnfermeiro.js"></script>
  <script>
    // Função para chamar o método de salvar comentários
    function salvarComentario(agendamentoId) {
      const inputComentarios = document.getElementById(`comentarios-${agendamentoId}`);
      const comentarios = inputComentarios.value;
  
      fetch(`/salvar-comentarios/${agendamentoId}`, {
        method: 'POST',
        headers: {
          'Authorization': 'Bearer ' + localStorage.getItem('token'),
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ comentarios }),
      })
      .then(response => response.json())
      .then(data => {
        alert(data.mensagem); // Exibe um alerta com a mensagem do servidor
        // Adicione aqui o redirecionamento para a página de atendimento médico
        window.location.href = '/atendimentoMedico'; // Altere conforme necessário
      })
      .catch(error => {
        console.error('Erro ao salvar comentários:', error);
        alert('Erro ao salvar comentários. Verifique a console para mais detalhes.');
      });
    }
  </script>
</body>

</html>
